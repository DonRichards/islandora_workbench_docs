<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Development guide - Islandora Workbench</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">
        <link href="../css/extra.css" rel="stylesheet">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">Islandora Workbench</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../installation/" class="nav-link">Requirements and installation</a>
                            </li>
                            <li class="navitem">
                                <a href="../configuration/" class="nav-link">Configuration</a>
                            </li>
                            <li class="navitem">
                                <a href="../check/" class="nav-link">Checking configuration and input data</a>
                            </li>
                            <li class="navitem">
                                <a href="../preparing_data/" class="nav-link">Preparing your data</a>
                            </li>
                            <li class="navitem">
                                <a href="../fields/" class="nav-link">Field data (Drupal and CSV)</a>
                            </li>
                            <li class="navitem">
                                <a href="../ignoring_csv_rows_and_columns/" class="nav-link">Ignoring CSV rows and columns</a>
                            </li>
                            <li class="navitem">
                                <a href="../field_templates/" class="nav-link">CSV field templates</a>
                            </li>
                            <li class="navitem">
                                <a href="../paged_and_compound/" class="nav-link">Creating paged, compound, and collection content</a>
                            </li>
                            <li class="navitem">
                                <a href="../nodes_only/" class="nav-link">Creating nodes without media</a>
                            </li>
                            <li class="navitem">
                                <a href="../creating_nodes_from_files/" class="nav-link">Creating nodes from files</a>
                            </li>
                            <li class="navitem">
                                <a href="../creating_taxonomy_terms/" class="nav-link">Creating taxonomy terms</a>
                            </li>
                            <li class="navitem">
                                <a href="../aliases/" class="nav-link">Assigning URL aliases</a>
                            </li>
                            <li class="navitem">
                                <a href="../alt_text/" class="nav-link">Adding alt text to images</a>
                            </li>
                            <li class="navitem">
                                <a href="../rolling_back/" class="nav-link">Rolling back nodes and media</a>
                            </li>
                            <li class="navitem">
                                <a href="../media_types/" class="nav-link">Setting media types</a>
                            </li>
                            <li class="navitem">
                                <a href="../updating_nodes/" class="nav-link">Updating nodes</a>
                            </li>
                            <li class="navitem">
                                <a href="../deleting_nodes/" class="nav-link">Deleting nodes</a>
                            </li>
                            <li class="navitem">
                                <a href="../adding_media/" class="nav-link">Adding media to nodes</a>
                            </li>
                            <li class="navitem">
                                <a href="../deleting_media/" class="nav-link">Deleting media</a>
                            </li>
                            <li class="navitem">
                                <a href="../adding_multiple_media/" class="nav-link">Adding multiple media</a>
                            </li>
                            <li class="navitem">
                                <a href="../generating_csv_files/" class="nav-link">Generating CSV files</a>
                            </li>
                            <li class="navitem">
                                <a href="../sample_data/" class="nav-link">Creating nodes from the sample data</a>
                            </li>
                            <li class="navitem">
                                <a href="../exporting_islandora_7_content/" class="nav-link">Exporting Islandora 7 content</a>
                            </li>
                            <li class="navitem">
                                <a href="../generating_sample_content/" class="nav-link">Generating sample Islandora content</a>
                            </li>
                            <li class="navitem">
                                <a href="../hooks/" class="nav-link">Hooks</a>
                            </li>
                            <li class="navitem">
                                <a href="../fixity/" class="nav-link">Fixity checking</a>
                            </li>
                            <li class="navitem">
                                <a href="../logging/" class="nav-link">Logging</a>
                            </li>
                            <li class="navitem">
                                <a href="../cancelling/" class="nav-link">Cancelling Workbench</a>
                            </li>
                            <li class="navitem">
                                <a href="../workflows/" class="nav-link">Workflows</a>
                            </li>
                            <li class="navitem">
                                <a href="../reducing_load/" class="nav-link">Reducing Workbench's impact on Drupal</a>
                            </li>
                            <li class="navitem">
                                <a href="../limitations/" class="nav-link">Known limitations</a>
                            </li>
                            <li class="navitem">
                                <a href="../roadmap/" class="nav-link">Roadmap (Fall 2021)</a>
                            </li>
                            <li class="navitem">
                                <a href="../troubleshooting/" class="nav-link">Troubleshooting</a>
                            </li>
                            <li class="navitem">
                                <a href="../changelog/" class="nav-link">Change log</a>
                            </li>
                            <li class="navitem active">
                                <a href="./" class="nav-link">Development guide</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../changelog/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" class="nav-link disabled">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/mjordan/islandora_workbench_docs/edit/main/docs/development_guide.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="2"><a href="#general" class="nav-link">General</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#adding-a-new-drupal-field-type" class="nav-link">Adding a new Drupal field type</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#writing-tests" class="nav-link">Writing tests</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<p>This documentation is aimed at developers who want to contribute to Islandora Workbench.</p>
<h2 id="general">General</h2>
<p>Bug reports, improvements, feature requests, and PRs welcome. Before you open a pull request, please open an issue.</p>
<p>If you open a PR, please check your code with pycodestyle:</p>
<p><code>pycodestyle --show-source --show-pep8 --ignore=E402,W504 --max-line-length=200 .</code></p>
<p>You can also check a specific file by replacing the <code>.</code> with the filename.</p>
<p>Also provide tests where applicable. Tests in Workbench fall into two categories:</p>
<ul>
<li>Unit tests that do not require a live Islandora instance.<ul>
<li>Unit tests in <code>tests/unit_tests.py</code> (run with <code>python3 tests/unit_tests.py</code>)</li>
<li>Unit tests for Workbench's Drupal fields handlers in <code>tests/field_tests.py</code> (run with <code>python3 tests/field_tests.py</code>)</li>
</ul>
</li>
<li>Integration tests that require a live Islandora instance running at <code>http://localhost:8000</code><ul>
<li><code>tests/islandora_tests.py</code>, <code>tests/islandora_tests_check.py</code>,  <code>tests/islandora_tests_hooks.py</code>, and <code>tests/islandora_tests_paged_content.py</code> can be run with <code>python3 tests/islandora_tests.py</code>, etc.</li>
<li>The <a href="https://github.com/Islandora-Devops/islandora-playbook">Islandora Playbook</a> is recommended way to deploy the Islandora used in these tests. Note that if an Islandora integration test fails, nodes and taxonomy terms created by the test before it fails may not be removed from Islandora.</li>
<li>Some integration and field tests output text that beings with "Error:." This is normal, it's the text that Workbench outputs when it finds something wrong (which is probably what the test is testing). Successful test (whether they test for success or failure) runs will exit with "OK". If you can figure out how to suppress this output, please visit <a href="https://github.com/mjordan/islandora_workbench/issues/160">this issue</a>.</li>
</ul>
</li>
<li>If you want to run the tests within a specific class, include the class name as an argument like this: <code>python3 tests/unit_tests.py TestCompareStings</code></li>
</ul>
<h2 id="adding-a-new-drupal-field-type">Adding a new Drupal field type</h2>
<p>Eventually, handlers for new Drupal field types will need to be added to Workbench. Currently, the only types supported are:</p>
<ul>
<li>strings (for string or text fields) like <code>Using Islandora Workbench for Fun and Profit</code></li>
<li>integers (for <code>field_weight</code>, for example) like <code>1</code> or <code>7281</code></li>
<li>the binary values <code>1</code> or <code>0</code></li>
<li>Existing Drupal-generated entity IDs (term IDs for taxonomy terms or node IDs for collections and parents), which are integers like <code>10</code> or <code>3549</code></li>
<li>structured strings, for typed relation (e.g., <code>relators:art:30</code>), link fields (e.g., <code>https://acme.net%%Acme Products</code>), geolocation fields (e.g., <code>"49.16667,-123.93333"</code>), and athority link data (e.g., <code>viaf%%http://viaf.org/viaf/10646807%%VIAF Record</code>)</li>
</ul>
<p>Details on how to add new field types are coming soon!</p>
<h2 id="writing-tests">Writing tests</h2>
<p>Also coming soon!</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
