<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Setting media types - Islandora Workbench</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">
        <link href="../css/extra.css" rel="stylesheet">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">Islandora Workbench</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../installation/" class="nav-link">Requirements and installation</a>
                            </li>
                            <li class="navitem">
                                <a href="../configuration/" class="nav-link">Configuration</a>
                            </li>
                            <li class="navitem">
                                <a href="../check/" class="nav-link">Checking configuration and input data</a>
                            </li>
                            <li class="navitem">
                                <a href="../preparing_data/" class="nav-link">Preparing your data</a>
                            </li>
                            <li class="navitem">
                                <a href="../fields/" class="nav-link">Field data (Drupal and CSV)</a>
                            </li>
                            <li class="navitem">
                                <a href="../ignoring_csv_rows_and_columns/" class="nav-link">Ignoring CSV rows and columns</a>
                            </li>
                            <li class="navitem">
                                <a href="../field_templates/" class="nav-link">CSV field templates</a>
                            </li>
                            <li class="navitem">
                                <a href="../paged_and_compound/" class="nav-link">Creating paged, compound, and collection content</a>
                            </li>
                            <li class="navitem">
                                <a href="../nodes_only/" class="nav-link">Creating nodes without media</a>
                            </li>
                            <li class="navitem">
                                <a href="../creating_nodes_from_files/" class="nav-link">Creating nodes from files</a>
                            </li>
                            <li class="navitem">
                                <a href="../creating_taxonomy_terms/" class="nav-link">Creating taxonomy terms</a>
                            </li>
                            <li class="navitem">
                                <a href="../aliases/" class="nav-link">Assigning URL aliases</a>
                            </li>
                            <li class="navitem">
                                <a href="../alt_text/" class="nav-link">Adding alt text to images</a>
                            </li>
                            <li class="navitem">
                                <a href="../rolling_back/" class="nav-link">Rolling back nodes and media</a>
                            </li>
                            <li class="navitem active">
                                <a href="./" class="nav-link">Setting media types</a>
                            </li>
                            <li class="navitem">
                                <a href="../updating_nodes/" class="nav-link">Updating nodes</a>
                            </li>
                            <li class="navitem">
                                <a href="../deleting_nodes/" class="nav-link">Deleting nodes</a>
                            </li>
                            <li class="navitem">
                                <a href="../adding_media/" class="nav-link">Adding media to nodes</a>
                            </li>
                            <li class="navitem">
                                <a href="../deleting_media/" class="nav-link">Deleting media</a>
                            </li>
                            <li class="navitem">
                                <a href="../adding_multiple_media/" class="nav-link">Adding multiple media</a>
                            </li>
                            <li class="navitem">
                                <a href="../generating_csv_files/" class="nav-link">Generating CSV files</a>
                            </li>
                            <li class="navitem">
                                <a href="../sample_data/" class="nav-link">Creating nodes from the sample data</a>
                            </li>
                            <li class="navitem">
                                <a href="../exporting_islandora_7_content/" class="nav-link">Exporting Islandora 7 content</a>
                            </li>
                            <li class="navitem">
                                <a href="../generating_sample_content/" class="nav-link">Generating sample Islandora content</a>
                            </li>
                            <li class="navitem">
                                <a href="../hooks/" class="nav-link">Hooks</a>
                            </li>
                            <li class="navitem">
                                <a href="../fixity/" class="nav-link">Fixity checking</a>
                            </li>
                            <li class="navitem">
                                <a href="../logging/" class="nav-link">Logging</a>
                            </li>
                            <li class="navitem">
                                <a href="../cancelling/" class="nav-link">Cancelling Workbench</a>
                            </li>
                            <li class="navitem">
                                <a href="../workflows/" class="nav-link">Workflows</a>
                            </li>
                            <li class="navitem">
                                <a href="../reducing_load/" class="nav-link">Reducing Workbench's impact on Drupal</a>
                            </li>
                            <li class="navitem">
                                <a href="../limitations/" class="nav-link">Known limitations</a>
                            </li>
                            <li class="navitem">
                                <a href="../roadmap/" class="nav-link">Roadmap (Fall 2021)</a>
                            </li>
                            <li class="navitem">
                                <a href="../troubleshooting/" class="nav-link">Troubleshooting</a>
                            </li>
                            <li class="navitem">
                                <a href="../changelog/" class="nav-link">Change log</a>
                            </li>
                            <li class="navitem">
                                <a href="../development_guide/" class="nav-link">Development guide</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../rolling_back/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../updating_nodes/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/mjordan/islandora_workbench_docs/edit/main/docs/media_types.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="2"><a href="#configuring-a-custom-media-type" class="nav-link">Configuring a custom media type</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Drupal's use of Media types (image, video, document, etc.) is distinct from Islandora's use of "model", which identifies an intellectual entity as an image, video, collection, compound object, newspaper, etc.</p>
</div>
<p>By default Workbench defines the following file extension to media type mapping:</p>
<table>
<thead>
<tr>
<th>File extensions</th>
<th>Media type</th>
</tr>
</thead>
<tbody>
<tr>
<td>png, gif, jpg, jpeg</td>
<td>image</td>
</tr>
<tr>
<td>pdf, doc, docx, ppt, pptx</td>
<td>document</td>
</tr>
<tr>
<td>tif, tiff, jp2, zip, tar</td>
<td>file</td>
</tr>
<tr>
<td>mp3, wav, aac</td>
<td>audio</td>
</tr>
<tr>
<td>mp4</td>
<td>video</td>
</tr>
<tr>
<td>txt</td>
<td>extracted_text</td>
</tr>
</tbody>
</table>
<p>If a file's extension is not defined in either this default mapping, the media is assigned the "file" type.</p>
<p>If you need to override this default mapping, you can do so in two ways:</p>
<ol>
<li>If the override applies to all files named in your CSV's <code>file</code> column, use the <code>media_type</code> configuration option, for example <code>media_type: document</code>). Use this option if all of the files in your batch are to be assigned the same media type, but their extensions are not defined in the default mapping or you wish to override the default mapping.</li>
<li>On a per file extension basis, via a mapping in the <code>media_types_override</code> option in your configuration file like this one:</li>
</ol>
<pre><code class="language-yaml">media_types_override:
  - video: ['mp4', 'ogg']
</code></pre>
<p>Use the <code>media_types_override</code> option if each of the files named in your CSV's <code>file</code> column are to be assigned an extension-specific media type, and their extensions are not defined in the default mapping (or add to the extensions in the default mapping, as in this example).</p>
<p>Note that:</p>
<ul>
<li>If a file's extension is not present in the default mapping or in the <code>media_types_override</code> custom mapping, the media is assigned the "file" type.</li>
<li>If you use the <code>media_types_override</code> configuration option, your mapping replaces Workbench's default mappings for the specified file extension. This means that if you want to retain any of the default mappings for the file extension, you need to include them in the mapping, as illustrated by the presence of "mp4" in the example above.</li>
<li>If both <code>media_type</code> and <code>media_types_override</code> are included in the config file, the mapping in <code>media_types_override</code> is ignored and the media type assigned in <code>media_type</code> is used.</li>
</ul>
<h2 id="configuring-a-custom-media-type">Configuring a custom media type</h2>
<p>Islandora ships with a set of default media types, including audio, document, extracted text, file, FITS technical metadata, image, and video. If you want to add your own custom media type, you need to tell Workbench two things:</p>
<ol>
<li>which file extension(s) should map to the new media type, and</li>
<li>which field on the new media type is used to store the file associated with the media.</li>
</ol>
<p>To satisfy the first requirement, use the <code>media_type</code> or <code>media_types_override</code> option as described above. To satisfy the second requirement, use Workbench's <code>media_file_fields</code> option. </p>
<p>The values in the <code>media_file_fields</code> option are the machine name of the media type and the machine name of the "File" field configured for that media. To determine the machine name of your media type,</p>
<ol>
<li>go to the field configuration of your media types (Admin &gt; Structure &gt; Media types)</li>
<li>choose your custom media type</li>
<li>choose the "Manage fields" operation for the media type. The URL of the Drupal page you are now at should look like <code>/admin/structure/media/manage/my_custom_media/fields</code>. The machine name of the media is in the second-last position in the URL. In this example, it's <code>my_custom_media</code>.</li>
<li>in the list of fields, look for the one that says "File" in the "Field type" column</li>
<li>the field machine name you want is in that row's "Machine name" column.</li>
</ol>
<p>Here's an example that tells Workbench that the custom media type "Custom media" uses the "field_media_file" field:</p>
<pre><code class="language-yaml">media_file_fields:
 - my_custom_media: field_media_file
</code></pre>
<p>Put together, the two configuration options would look like this:</p>
<pre><code class="language-yaml">media_types_override:
  - my_custom_media: ['cus']
media_file_fields:
 - my_custom_media: field_media_file
</code></pre>
<p>In this example, your Workbench job is creating media of varying types (for example, images, videos, and documents, all using the default extension-to-media type mappings. If all the files you are adding in the Workbench job all have the same media type (in the following example, your "my_custom_media" type), you could use this configuration:</p>
<pre><code class="language-yaml">media_type: my_custom_media
media_file_fields:
 - my_custom_media: field_media_file
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
