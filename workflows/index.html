<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Workflows - Islandora Workbench</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">
        <link href="../css/extra.css" rel="stylesheet">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">Islandora Workbench</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../installation/" class="nav-link">Requirements and installation</a>
                            </li>
                            <li class="navitem">
                                <a href="../configuration/" class="nav-link">Configuration</a>
                            </li>
                            <li class="navitem">
                                <a href="../check/" class="nav-link">Checking configuration and input data</a>
                            </li>
                            <li class="navitem">
                                <a href="../preparing_data/" class="nav-link">Preparing your data</a>
                            </li>
                            <li class="navitem">
                                <a href="../fields/" class="nav-link">Field data (Drupal and CSV)</a>
                            </li>
                            <li class="navitem">
                                <a href="../ignoring_csv_rows_and_columns/" class="nav-link">Ignoring CSV rows and columns</a>
                            </li>
                            <li class="navitem">
                                <a href="../field_templates/" class="nav-link">CSV field templates</a>
                            </li>
                            <li class="navitem">
                                <a href="../paged_and_compound/" class="nav-link">Creating paged, compound, and collection content</a>
                            </li>
                            <li class="navitem">
                                <a href="../nodes_only/" class="nav-link">Creating nodes without media</a>
                            </li>
                            <li class="navitem">
                                <a href="../creating_nodes_from_files/" class="nav-link">Creating nodes from files</a>
                            </li>
                            <li class="navitem">
                                <a href="../creating_taxonomy_terms/" class="nav-link">Creating taxonomy terms</a>
                            </li>
                            <li class="navitem">
                                <a href="../aliases/" class="nav-link">Assigning URL aliases</a>
                            </li>
                            <li class="navitem">
                                <a href="../alt_text/" class="nav-link">Adding alt text to images</a>
                            </li>
                            <li class="navitem">
                                <a href="../rolling_back/" class="nav-link">Rolling back nodes and media</a>
                            </li>
                            <li class="navitem">
                                <a href="../media_types/" class="nav-link">Setting media types</a>
                            </li>
                            <li class="navitem">
                                <a href="../updating_nodes/" class="nav-link">Updating nodes</a>
                            </li>
                            <li class="navitem">
                                <a href="../deleting_nodes/" class="nav-link">Deleting nodes</a>
                            </li>
                            <li class="navitem">
                                <a href="../adding_media/" class="nav-link">Adding media to nodes</a>
                            </li>
                            <li class="navitem">
                                <a href="../deleting_media/" class="nav-link">Deleting media</a>
                            </li>
                            <li class="navitem">
                                <a href="../adding_multiple_media/" class="nav-link">Adding multiple media</a>
                            </li>
                            <li class="navitem">
                                <a href="../generating_csv_files/" class="nav-link">Generating CSV files</a>
                            </li>
                            <li class="navitem">
                                <a href="../sample_data/" class="nav-link">Creating nodes from the sample data</a>
                            </li>
                            <li class="navitem">
                                <a href="../exporting_islandora_7_content/" class="nav-link">Exporting Islandora 7 content</a>
                            </li>
                            <li class="navitem">
                                <a href="../generating_sample_content/" class="nav-link">Generating sample Islandora content</a>
                            </li>
                            <li class="navitem">
                                <a href="../hooks/" class="nav-link">Hooks</a>
                            </li>
                            <li class="navitem">
                                <a href="../fixity/" class="nav-link">Fixity checking</a>
                            </li>
                            <li class="navitem">
                                <a href="../logging/" class="nav-link">Logging</a>
                            </li>
                            <li class="navitem">
                                <a href="../cancelling/" class="nav-link">Cancelling Workbench</a>
                            </li>
                            <li class="navitem active">
                                <a href="./" class="nav-link">Workflows</a>
                            </li>
                            <li class="navitem">
                                <a href="../reducing_load/" class="nav-link">Reducing Workbench's impact on Drupal</a>
                            </li>
                            <li class="navitem">
                                <a href="../limitations/" class="nav-link">Known limitations</a>
                            </li>
                            <li class="navitem">
                                <a href="../roadmap/" class="nav-link">Roadmap (Fall 2021)</a>
                            </li>
                            <li class="navitem">
                                <a href="../troubleshooting/" class="nav-link">Troubleshooting</a>
                            </li>
                            <li class="navitem">
                                <a href="../changelog/" class="nav-link">Change log</a>
                            </li>
                            <li class="navitem">
                                <a href="../development_guide/" class="nav-link">Development guide</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../cancelling/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../reducing_load/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/mjordan/islandora_workbench_docs/edit/main/docs/workflows.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="2"><a href="#batch-ingest" class="nav-link">Batch ingest</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#distributed-batch-ingest" class="nav-link">Distributed batch ingest</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#migrations" class="nav-link">Migrations</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#watch-folders" class="nav-link">Watch folders</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#integrations-with-other-systems" class="nav-link">Integrations with other systems</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<p>Islandora Workbench can be used in a variety of content ingest workflows. Several are outlined below.</p>
<h2 id="batch-ingest">Batch ingest</h2>
<p>This is the most common workflow. A user prepares a CSV file and accompanying media files, and runs Workbench to ingest the content:</p>
<p><img alt="Batch ingest" src="../images/workflow_batch_loading.png" /></p>
<p>Note that within this basic workflow, options exist for creating nodes with <a href="/islandora_workbench_docs/nodes_only/">no media</a>, and creating stub nodes <a href="/islandora_workbench_docs/creating_nodes_from_files/">from files</a> (i.e., no accompanying CSV file).</p>
<h2 id="distributed-batch-ingest">Distributed batch ingest</h2>
<p>It is possible to separate the tasks of creating a node and its accompanying media. This can be done in a couple of ways:</p>
<ul>
<li>creating the nodes first, using the <code>nodes_only: true</code> configuration option, and <a href="/islandora_workbench_docs/adding_media/">adding media to those nodes</a> separately</li>
<li>creating stub nodes <a href="/islandora_workbench_docs/creating_nodes_from_files/">directly from media files</a>, and <a href="/islandora_workbench_docs/updating_nodes/">updating the nodes</a> separately</li>
</ul>
<p><img alt="Distributed batch ingest" src="../images/workflow_distributed_batch_loading.png" /></p>
<p>In this workflow, the person creating the nodes and the person updating them later need not be the same. In both cases, Workbench can create an <a href="/islandora_workbench_docs/output_csv/">output CSV</a> that can be used in the second half of the workflow.</p>
<h2 id="migrations">Migrations</h2>
<p>Islandora Workbench is not intended to replace Drupal's Migrate framework, but it can be used in conjunction with other tools and processes as part of an "<a href="https://en.wikipedia.org/wiki/Extract,_transform,_load">extract, transform, load</a>" (ETL) workflow. The source could be any platform. If it is Islandora 7, several tools exist to extract content, including the <a href="/islandora_workbench_docs/exporting_islandora_7_content/">get_islandora_7_content.py</a> script that comes with Workbench or the <a href="https://github.com/mjordan/islandora_get_csv">Islandora Get CSV</a> module for Islandora 7. This content can then be used as input for Islandora Workbench, as illustrated here:</p>
<p><img alt="Migrations" src="../images/workflow_migrations.png" /></p>
<p>On the left side of the diagram, <code>get_islandora_7_content.py</code> or the Islandora Get CSV module are used in the "extract" phase of the ETL workflow, and on the right side, running the user's computer, Islandora Workbench is used in the "load" phase. Before loading the content, the user would modify the extracted CSV file to confirm with Workbench's CSV content requirements.</p>
<p>The advantage of migrating to Islandora in this way is that the exported CSV file can be cleaned or supplemented (manually or otherwise) prior to using it as Workbench's input. The specific tasks required during this "transform" phase will vary depending on the quality and consistency of metadata and other factors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Workbench's ability to add multiple media to a node at one time is useful during migrations, if you want to reuse derivatives such as thumbnails and OCR transcripts from the source platform. Using this ability can speed up ingest substantially, since Islandora won't need to generate derivative media that are added this way . See the "<a href="/islandora_workbench_docs/adding_multiple_media">Adding multiple media</a>" section for more information.</p>
</div>
<h2 id="watch-folders">Watch folders</h2>
<p>Since Islandora workbench is a command-line tool, it can be run in a scheduled job such as Linux "cron". If CSV and file content are present when Workbench runs, Workbench will operate on them in the same way as if a person ran Workbench manually. In the diagram below, the source of the files is the daily output of someone scanning images. If these images are saved in the directory that is specified in Workbench's <code>input_dir</code> configuration option, and Workbench is run in a cron job using the "<a href="/islandora_workbench_docs/creating_nodes_from_files/">create_from_files</a>" task, nodes will be created when the cron job executes (over night, for example):</p>
<p><img alt="Watch folders" src="../images/workflow_watch_folders.png" /></p>
<p>A variation on this workflow is to combine it with the "Distributed" workflow described above:</p>
<p><img alt="Watch folders with secondary CSV data" src="../images/workflow_distributed_watch_folder.png" /></p>
<p>In this workflow, the nodes are created overnight and then updated with CSV data the next day.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Islandora Workbench does not detect changes in directories. While tools to do so exist, Workbench's ability to ingest Islandora content in batches makes it useful to scheduled jobs, as opposed to realtime detection of new files in a directory.</p>
</div>
<h2 id="integrations-with-other-systems">Integrations with other systems</h2>
<p>A combination of the "Migrations" workflow and the "Watch folder" workflow can be used to automate the periodic movement of content from a source system (in the diagram below, Open Journal Systems or Archivematica) into Islandora:</p>
<p><img alt="Migrations" src="../images/workflow_integrations.png" /></p>
<p>The extraction of data from the source system, conversion of it into the CSV and file arrangement Workbench expects, and running of Workbench can all be scripted and executed in sequence using scheduled jobs.</p>
<h3 id="using-hooks">Using hooks</h3>
<p>Islandora Workbench enables you to execute scripts immediately after a node is created or updated, or a media is created, via a "post-action script" <a href="/islandora_workbench_docs/hooks/">hook</a>. Drupal informs Workbench if an action was successful or not, and in either case, post-action hook scripts registered in the Workbench configuration file execute. These scripts can interact with external applications:</p>
<p><img alt="Post-action hook script" src="../images/post_action_hook.png" /></p>
<p>Potential uses for this ability include adding new Islandora content to external processing queues, or informing upstream applications like those described in the "Integrations with other systems" section above that content they provide has been (or has not been) ingested into Islandora. As a simpler example, post-action hook scripts can be used to write custom or special-purpose log files.</p>
<h3 id="sharing-the-input-csv-with-other-applications">Sharing the input CSV with other applications</h3>
<p>Some workflows can benefit from having Workbench share its input CSV with other scripts or applications. For example, you might use Workbench to ingest nodes into Islandora but want to use the same CSV file in a script to create metadata for loading into another application such as a library discovery layer.</p>
<p>Islandora Workbench strictly validates the columns in the input CSV to ensure that they match Drupal field names. To accommodate CSV columns that do not correspond to Drupal field names, you can tell Workbench to ignore specific columns that are present in the CSV. To do this, list the non-Workbench column headers in the <code>ignore_csv_columns</code> configuration setting. For example, if you want to include a <code>date_generated</code> column in your CSV, include the following in your Workbench configuration file:</p>
<pre><code>ignore_csv_columns: ['date_generated']
</code></pre>
<p>With this setting in place, Workbench will ignore the <code>date_generated</code> column in the input CSV. More information on this feature <a href="/islandora_workbench_docs/ignoring_csv_rows_and_columns/#ignoring-csv-columns">is availalable</a>.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
