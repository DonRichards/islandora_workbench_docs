<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Troubleshooting - Islandora Workbench</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">
        <link href="../css/extra.css" rel="stylesheet">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">Islandora Workbench</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../installation/" class="nav-link">Requirements and installation</a>
                            </li>
                            <li class="navitem">
                                <a href="../configuration/" class="nav-link">Configuration</a>
                            </li>
                            <li class="navitem">
                                <a href="../check/" class="nav-link">Checking configuration and input data</a>
                            </li>
                            <li class="navitem">
                                <a href="../preparing_data/" class="nav-link">Preparing your data</a>
                            </li>
                            <li class="navitem">
                                <a href="../fields/" class="nav-link">Field data (Drupal and CSV)</a>
                            </li>
                            <li class="navitem">
                                <a href="../ignoring_csv_rows_and_columns/" class="nav-link">Ignoring CSV rows and columns</a>
                            </li>
                            <li class="navitem">
                                <a href="../field_templates/" class="nav-link">CSV field templates</a>
                            </li>
                            <li class="navitem">
                                <a href="../paged_and_compound/" class="nav-link">Creating paged, compound, and collection content</a>
                            </li>
                            <li class="navitem">
                                <a href="../nodes_only/" class="nav-link">Creating nodes without media</a>
                            </li>
                            <li class="navitem">
                                <a href="../creating_nodes_from_files/" class="nav-link">Creating nodes from files</a>
                            </li>
                            <li class="navitem">
                                <a href="../creating_taxonomy_terms/" class="nav-link">Creating taxonomy terms</a>
                            </li>
                            <li class="navitem">
                                <a href="../aliases/" class="nav-link">Assigning URL aliases</a>
                            </li>
                            <li class="navitem">
                                <a href="../alt_text/" class="nav-link">Adding alt text to images</a>
                            </li>
                            <li class="navitem">
                                <a href="../rolling_back/" class="nav-link">Rolling back nodes and media</a>
                            </li>
                            <li class="navitem">
                                <a href="../media_types/" class="nav-link">Setting media types</a>
                            </li>
                            <li class="navitem">
                                <a href="../updating_nodes/" class="nav-link">Updating nodes</a>
                            </li>
                            <li class="navitem">
                                <a href="../deleting_nodes/" class="nav-link">Deleting nodes</a>
                            </li>
                            <li class="navitem">
                                <a href="../adding_media/" class="nav-link">Adding media to nodes</a>
                            </li>
                            <li class="navitem">
                                <a href="../deleting_media/" class="nav-link">Deleting media</a>
                            </li>
                            <li class="navitem">
                                <a href="../adding_multiple_media/" class="nav-link">Adding multiple media</a>
                            </li>
                            <li class="navitem">
                                <a href="../generating_csv_files/" class="nav-link">Generating CSV files</a>
                            </li>
                            <li class="navitem">
                                <a href="../sample_data/" class="nav-link">Creating nodes from the sample data</a>
                            </li>
                            <li class="navitem">
                                <a href="../exporting_islandora_7_content/" class="nav-link">Exporting Islandora 7 content</a>
                            </li>
                            <li class="navitem">
                                <a href="../generating_sample_content/" class="nav-link">Generating sample Islandora content</a>
                            </li>
                            <li class="navitem">
                                <a href="../hooks/" class="nav-link">Hooks</a>
                            </li>
                            <li class="navitem">
                                <a href="../fixity/" class="nav-link">Fixity checking</a>
                            </li>
                            <li class="navitem">
                                <a href="../logging/" class="nav-link">Logging</a>
                            </li>
                            <li class="navitem">
                                <a href="../cancelling/" class="nav-link">Cancelling Workbench</a>
                            </li>
                            <li class="navitem">
                                <a href="../workflows/" class="nav-link">Workflows</a>
                            </li>
                            <li class="navitem">
                                <a href="../reducing_load/" class="nav-link">Reducing Workbench's impact on Drupal</a>
                            </li>
                            <li class="navitem">
                                <a href="../limitations/" class="nav-link">Known limitations</a>
                            </li>
                            <li class="navitem">
                                <a href="../roadmap/" class="nav-link">Roadmap (Fall 2021)</a>
                            </li>
                            <li class="navitem active">
                                <a href="./" class="nav-link">Troubleshooting</a>
                            </li>
                            <li class="navitem">
                                <a href="../changelog/" class="nav-link">Change log</a>
                            </li>
                            <li class="navitem">
                                <a href="../development_guide/" class="nav-link">Development guide</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../roadmap/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../changelog/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/mjordan/islandora_workbench_docs/edit/main/docs/troubleshooting.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="2"><a href="#workbench-is-failing-to-ingest-some-nodes-and-is-leaving-messages-in-the-log-mentioning-http-response-code-422" class="nav-link">Workbench is failing to ingest some nodes and is leaving messages in the log mentioning HTTP response code 422.</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#-check-is-telling-me-that-one-the-rows-in-my-csv-file-has-more-columns-than-headers" class="nav-link">--check is telling me that one the rows in my CSV file has more columns than headers.</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#workbench-is-slow" class="nav-link">Workbench is slow.</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#workbench-crashes-or-slows-down-my-drupal-server" class="nav-link">Workbench crashes or slows down my Drupal server.</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#the-text-in-my-csv-does-not-match-how-it-looks-when-i-view-it-in-drupal" class="nav-link">The text in my CSV does not match how it looks when I view it in Drupal.</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#my-islandora-uses-a-custom-media-type-and-i-need-to-tell-workbench-what-file-field-to-use" class="nav-link">My Islandora uses a custom media type and I need to tell Workbench what file field to use.</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#ive-pulled-in-updates-to-islandora-workbench-from-github-but-when-i-run-it-python-complains-about-not-being-able-to-find-a-library" class="nav-link">I've pulled in updates to Islandora Workbench from Github but when I run it, Python complains about not being able to find a library.</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#edtf-interval-values-are-not-rendering-in-islandora-properly" class="nav-link">EDTF 'interval' values are not rendering in Islandora properly.</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#my-csv-file-has-a-url_alias-column-but-the-aliases-are-not-being-created" class="nav-link">My CSV file has a url_alias column, but the aliases are not being created.</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#im-installing-workbench-on-windows-and-its-failing-because-microsoft-visual-c-is-not-installed" class="nav-link">I'm installing Workbench on Windows and it's failing because Microsoft Visual C++ is not installed</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#my-drupal-has-the-standalone-media-url-option-at-adminconfigmediamedia-settings-checked-and-im-using-workbenchs-standalone_media_url-true-option-in-my-config-but-im-still-getting-lots-of-errors" class="nav-link">My Drupal has the "Standalone media URL" option at /admin/config/media/media-settings checked, and I'm using Workbench's standalone_media_url: true option in my config, but I'm still getting lots of errors.</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are encountering problems not described here, please <a href="https://github.com/mjordan/islandora_workbench/issues">open an issue</a> and help improve Islandora Workbench!</p>
</div>
<h2 id="workbench-is-failing-to-ingest-some-nodes-and-is-leaving-messages-in-the-log-mentioning-http-response-code-422">Workbench is failing to ingest some nodes and is leaving messages in the log mentioning HTTP response code 422.</h2>
<p>This is probably caused by unexpected data in your CSV file that Workbench's <code>--check</code> validation is not finding. If you encounter these messages, please <a href="https://github.com/mjordan/islandora_workbench/issues">open an issue</a> and share any relevant entries in your Drupal log (as an admin user, go to Admin &gt; Reports &gt; Recent log messages) so we can track down the problem.</p>
<p>One of the most common causes of this error is that one or more of the vocabularies being populated in your <code>create</code> task CSV contain required fields other than the default term name. It is possible to have Workbench create these fields, but you must do so as a separate <code>create_terms</code> task. See "<a href="/islandora_workbench_docs/creating_taxonomy_terms">Creating taxonomy terms</a>" for more information.</p>
<h2 id="-check-is-telling-me-that-one-the-rows-in-my-csv-file-has-more-columns-than-headers">--check is telling me that one the rows in my CSV file has more columns than headers.</h2>
<p>The most likely problem is that one of your CSV values contains a comma but is not wrapped in double quotes.</p>
<h2 id="workbench-is-slow">Workbench is slow.</h2>
<p>True, it can be slow. However, users have found that the following strategies increase Workbench's speed substantially:</p>
<ul>
<li>Running Workbench on the same server that Drupal is running on (e.g. using "localhost" as the value of <code>host</code> in your config file). While doing this negates Workbench's most important design principle - that it does not require access to the Drupal server's command line - during long-running jobs such as those that are part of migrations, this is the best way to speed up Workbench.</li>
<li>Using local instead of remote files. If you populate your <code>file</code> or "additional files" fields with filenames that start with "http", Workbench downloads each of those files before ingesting them. Providing local copies of those files in advance of running Workbench will eliminate the time it takes Workbench to download them.</li>
<li>Avoid confirming taxonomy terms' existence during <code>--check</code>. If you add <code>validate_terms_exist: false</code> to your configuration file, Workbench will not query Drupal for each taxonomy term during <code>--check</code>. This option is suitable if you know that the terms don't exist in the target Drupal. Note that this option only speeds up <code>--check</code>; it does not have any effect when creating new nodes.</li>
</ul>
<h2 id="workbench-crashes-or-slows-down-my-drupal-server">Workbench crashes or slows down my Drupal server.</h2>
<p>If Islandora Workbench is putting too much strain on your Drupal server, you should try enabling the <code>pause</code> configuration option. If that works, replace it with the <code>adaptive_pause</code> option and see if that also works. The former option pauses between all communication requests between Workbench and Drupal, while the latter pauses only if the server's response time for the last request is longer than the average of the last 20 requests.</p>
<p>Note that both of these settings will slow Workbench down, which is their purpose. However, <code>adaptive_pause</code> should have less impact on overall speed since it only pauses between requests if it detects the server is getting slower over time. If you use <code>adaptive_pause</code>, you can also tune the <code>adaptive_pause_threshold</code> option by incrementing the value by .5 intervals (for example, from the default of 2 to 2.5, then 3, etc.) to see if doing so reduces strain on your Drupal server while keeping overall speed acceptable. You can also lower the value of <code>adaptive_pause</code> incrementally to balance strain with overall speed.</p>
<h2 id="the-text-in-my-csv-does-not-match-how-it-looks-when-i-view-it-in-drupal">The text in my CSV does not match how it looks when I view it in Drupal.</h2>
<p>If a field is configured in Drupal to use <a href="https://www.drupal.org/node/213156">text filters</a>, the HTML that is displayed to the user may not be exactly the same as the content of the node add/edit form field. If you check the node add/edit form, the content of the field should match the content of the CSV field. If it does, it is likely that Drupal is apply a text filter. See <a href="https://github.com/mjordan/islandora_workbench/issues/328">this issue</a> for more information.</p>
<h2 id="my-islandora-uses-a-custom-media-type-and-i-need-to-tell-workbench-what-file-field-to-use">My Islandora uses a custom media type and I need to tell Workbench what file field to use.</h2>
<p>If you need to create a media that is not one of the standard Islandora types (Image, File, Digital Document, Video, Audio, Extracted Text, or FITS Technical metadata), you will need to include the  <code>media_file_fields</code> setting in your config file, like this:</p>
<pre><code class="language-yaml">media_file_fields:
 - mycustommedia_machine_name: field_custom_file
 - myothercustommedia_machine_name: field_other_custom_file
</code></pre>
<p>This configuration setting adds entries to the following default mapping of media types to file field names:</p>
<pre><code class="language-yaml">'file': 'field_media_file',
'document': 'field_media_document',
'image': 'field_media_image',
'audio': 'field_media_audio_file',
'video': 'field_media_video_file',
'extracted_text': 'field_media_file',
'fits_technical_metadata': 'field_media_file'
</code></pre>
<h2 id="ive-pulled-in-updates-to-islandora-workbench-from-github-but-when-i-run-it-python-complains-about-not-being-able-to-find-a-library">I've pulled in updates to Islandora Workbench from Github but when I run it, Python complains about not being able to find a library.</h2>
<p>This is likely due to the addition of a new Python library to Workbench. Rerunning <code>setup.py</code> will install the missing library. Details are available in the "Updating Islandora Workbench" section of the <a href="https://mjordan.github.io/islandora_workbench_docs/installation/#updating-islandora-workbench">Requirements and Installation</a> docs.</p>
<h2 id="edtf-interval-values-are-not-rendering-in-islandora-properly">EDTF 'interval' values are not rendering in Islandora properly.</h2>
<p>Islandora can display EDTF interval values (e.g., <code>2004-06/2006-08</code>, <code>193X/196X</code>) properly, but by default, the configuration that allows this is disabled (see <a href="https://github.com/Islandora/documentation/issues/1889">this issue</a> for more information). To enable it, for each field in your Islandora content types that use EDTF fields, visit the "Manage form display" configuration for the content type, and for each field that uses the "Default EDTF widget", within the widget configuration (click on the gear), check the "Permit date intervals" option and click "Update":</p>
<p><img alt="EDTF form widget configuration" src="../images/edtf_form_widget_config.png" /></p>
<h2 id="my-csv-file-has-a-url_alias-column-but-the-aliases-are-not-being-created">My CSV file has a <code>url_alias</code> column, but the aliases are not being created.</h2>
<p>First thing to check is whether you are using the <a href="https://www.drupal.org/project/pathauto">Pathauto</a> module. It also creates URL aliases, and since by default Drupal only allows one URL alias, in most cases, the aliases it creates will take precedence over aliases created by Workbench.</p>
<h2 id="im-installing-workbench-on-windows-and-its-failing-because-microsoft-visual-c-is-not-installed">I'm installing Workbench on Windows and it's failing because Microsoft Visual C++ is not installed</h2>
<p>On Windows, the "iteration_utilities" library that Workbench uses requires Microsoft Visual C++ 14.0 or higher. Often, this is already installed, in which case <code>setup.py</code> will execute successfully. However, if you see the following error when running Workbench's <code>setup.py</code>:</p>
<blockquote>
<p>Setup script exited with error: Microsoft Visual C++ 14.0 or greater is required. Get it with "Microsoft C++ Build Tools": https://visualstudio.microsoft.com/visual-cpp-build-tools/</p>
</blockquote>
<p>you will need to visit that site, download the "Build Tools" and install them.</p>
<h2 id="my-drupal-has-the-standalone-media-url-option-at-adminconfigmediamedia-settings-checked-and-im-using-workbenchs-standalone_media_url-true-option-in-my-config-but-im-still-getting-lots-of-errors">My Drupal has the "Standalone media URL" option at <code>/admin/config/media/media-settings</code> checked, and I'm using Workbench's <code>standalone_media_url: true</code> option in my config, but I'm still getting lots of errors.</h2>
<p>Bue sure to clear Drupal's cache every time you change the "Standalone media URL" option. More information can be found <a href="/islandora_workbench_docs/installation/#configuring-drupals-media-urls">here</a>.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
